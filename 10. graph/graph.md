#### 10장

## 그래프 (graph)

 - 노드(node, vertex)와 엣지(edge, link)의 조합

    - G = (E, V)
      	- E = edge의 집합, V = vertex의 집합 (방향성/directed 또는 비방향성/undirected)

- 용어

  - 부분 그래프 (sub graph)
  - 완전 그래프 (complete graph)
  - 인접 노드 (adjacent node) : 한 노드에 직접 연결된 노드
    - 차수(degree) : 한 노드의 인접 노드의 개수

- 그래프의 구현

  1. 인접 행렬 (adjacency matrix) : 인접 노드를 2차원 배열로 표현

     ~~~
     A[i][j] = 1 인 경우 E(i, j) 엣지가 존재한다는 뜻
     A[i][j] = 0 인 경우 E(i, j) 엣지가 존재하지 않는다는 뜻
     ~~~

     - 엣지의 유무 확인 = O(1)
     - 노드의 차수 확인 = O(n)
     - 모든 엣지 수를 확인 = O(n^2)
     - 희소 그래프인 경우 메모리가 낭비되는 경우 발생
     - 노드의 추가 삭제가 어려움 (행렬의 크기가 정해져 있기 때문에)

  2. 인접 리스트 (adjacency list)

     - 인접 노드들을 연결 리스트로 펴현

- 그래프의 탐색

  1. 깊이 우선 탐색 (Depth First Search, DFS)	
     - 시작 노드에서 leaf 노드에 도달하고 백트래킹(backtracking)하는 방식
     - 지금 위치에서 갈 수 있는데까지 가고, 더 이상 갈 수 없으면 돌아가서 다른 곳 탐색
     - 스택(stack)또는 재귀함수를 이용해서 구현이 가능함
       - visited[] 배열을 이용해서 한번 방문한 노드는 다시 방문하지 않도록 함
  2. 너비 우선 탐색 (Breadth First Search, BFS)
     - 현재 상태에서 가장 가까운 노드를 순차적으로 탐색
     - 현재 노드에서 방문할 수 있는 곳을 먼저 모두 방문
     - 큐를 사용해서 구현함
       - 큐를 위한 메모리가 많이 필요할 수 있음 (많은 노드를 규에 삽입할 수 있음)
       - 새로 확장되는 노드는 큐 뒤에 삽입, 탐색이 끝나면 큐의 제일 앞에서 삭제

- 신장 트리 (spanning tree)

  - 그래프 내의 모든 노드를 포함하는 트리

    - 트리이기 때문에 사이클이 존재하면 안됨
    - 노드가 n개면 엣지는 (n-1)개만 존재

  - 최소 신장 트리 (minimum spanning tree)

    - 신장 트리 중 엣지들의 가중치 합이 최소가 되는 경우

    1. Kruskal 알고리즘

       - 엣지가 e개면 O(eloge)

       - 수행 과정

         1. 모든 엣지들을 가중치에 대해서 오름차순으로 정렬
         2. 모든 노드를 방문할 때까지 사이클을 형성하지 않는 엣지들을 선택해서 해집합에 추가

       - 사이클 형성 유무 판단 = union-find 함수

         - 각 요소는 자신의 부모 노드를 가리킴

         1. union(x, y) : x, y 두 집합의 합집합을 반환
         2. find(x) : x가 속한 집합을 리턴

    2. Prim 알고리즘
       - 노드의 개수가 n개인 경우 O(n^2)
       - 노드 관점에서 이루어지는 알고리즘
         - 인접한 노드 중 가중치가 최소인 엣지로 연결된 노드를 선택하면서 트리 확장

- 최단 경로 (shortest path)

  - 단일 출발 최단 경로, 단일 쌍 최단 경로, 전체 쌍 최단 경로
  - 다익스트라 알고리즘 (dijkstra algorithm)
    - 하나의 시작노드에서 다른 모든 노드로의 최단 경로 구하기
      - 최단 경로의 부분 경로는 최단경로이다.
        - D(s, e) = D(s, v) + weight(v, e)
          - s -> v -> e 의 경로인 경우
    - 수행 과정
      1. 시작 노드는 0, 나머지 노드는 모두 무한대로 최소값을 갱신
      2. 시작 노드에서 연결된 노드와 지정된 값(무한대) 
      3. 다음 노드는 경로 값이 최소인 노드로 선정
    - 웨이트는 0 이상이어야 함
      - 음수인 경우 알고리즘 사용 불가
        - 무한 루프 발생 = 웨이트가 음수이기 때문에 최소값이 계속 갱신됨

 